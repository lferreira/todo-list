<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>TODO: List</title>
	<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.12.0.css">
	<link rel="stylesheet" type="text/css" href="todo.css" />
</head>
<body>

	<div>
		<div id="message"></div>
		<form id="form" method="POST">
			<input id="description" name="description" size="55" type="text" />
			<input id="add" type="submit" value="Add" />
		</form>
	</div>
	<div id="todo_list"></div>

	<div id="modelos" style="display: none;">
		<div id="line">
			<div class="line">
				<input class="check_todo" name="check_todo" type="checkbox" />
				<span id="todo_description" class="todo_description" name="todo_description">&nbsp;</span>
			</div>	
		</div>
    </div>
	<div id="qunit"></div>
	<div id="qunit-fixture"></div>	
	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script src="http://code.jquery.com/qunit/qunit-1.12.0.js"></script>

	<script type="text/javascript" src="todo.js"></script>
	<script type="text/javascript">
		$(document).ready(todo.init());
	</script>
  
	<script type="text/javascript">
  
		module( "module A", {
			setup: function() {
		},
			teardown: function() {
				$('#todo_list').empty();
			}
		});
  
		test( "should add new task", function() {
			var expected = "Ir a feira";
			help.addTask(expected);
			
			var result = $('#todo_list>div.line').text().trim();
			equal(result, expected, "add new task");
		});

  		test( "should validate empty description", function() {
			
			var expected = "preencha a descricao";
			
			$('#add').click();
			
			var result = $('#message').text();
			equal(result, expected , "empty description");
		});
		
		test( "select task should colorize line with green and line-through", function() {
			var task = "Ir ao mercado";
			help.addTask(task);
			$('#todo_list>div.line>input.check_todo').click();
			
			ok($('#todo_list>div.line').css("background-color") == 'rgb(144, 238, 144)');
			ok($('#todo_list>div.line').css("text-decoration") == 'line-through');
		});
		
		var help = {
			 addTask: function(task) {
				$('#description').val(task);
				$('#add').click();			
			}
		}
  
	</script>

	
</body>
</html>